// Generated by CoffeeScript 1.7.1
var showAccountInfo, startLogin, updateStatusCallback;

updateStatusCallback = function() {
  alert("Status updated!!");
};

startLogin = function() {
  return FB.login((function() {
    return FB.api("/me/feed", "post", {
      message: "Hello, world!"
    });
  }), {
    scope: "publish_actions"
  });
};

showAccountInfo = function() {
  FB.api("/me?fields=name,picture", function(response) {
    Log.info("API response", response);
    document.getElementById("accountInfo").innerHTML = "<img src=\"" + response.picture.data.url + "\"> " + response.name;
  });
  document.getElementById("loginBtn").style.display = "none";
};

FB.Event.subscribe("auth.statusChange", function(response) {
  Log.info("Status Change Event", response);
  if (response.status === "connected") {
    showAccountInfo();
  } else {
    document.getElementById("loginBtn").style.display = "block";
  }
});

FB.getLoginStatus(function(response) {
  Log.info("Login Status", response);
  if (response.status === "connected") {
    showAccountInfo();
  } else {
    document.getElementById("loginBtn").style.display = "block";
  }
});
